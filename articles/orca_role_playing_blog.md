---
title: "BigFiveを統合してLLMのロールプレイ能力向上に関する論文を一緒に読みましょう！"
emoji: "🐳"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["LLM", "Personalization", "Role-Playing", "Persona", "BigFive"]
published: True
---


# ORCA: Big Five を統合して LLM のロールプレイ能力を底上げする
> この記事は，「自分の理解を深めたい」という気持ちで書いています．読者のみなさんと**同じ目線**で，一緒に理解を育てていくスタイルです．僕の理解が及ばない部分があれば，優しく教えていただけると幸いです！



# TL;DR
**ORCA**は，ユーザの **Big Five（各6サブ次元=計35次元）** に基づく**性格特性**を，データ拡張と指示調整を通じて **LLM のロールプレイ**に組み込む枠組み．4段構成：①**性格推定**→②**データ拡張（プロフィール/潜在知識/心理活動）**→③**PCIP（性格条件付き指示プロンプト）**でのデータ化→④**PTIT/PSIT**での学習．評価用に **OrcaBench** も新設し，**OrcaData**で学習したモデルがベンチで優位と報告．



# 背景
* **既存のロールプレイは“設定プロンプト偏重”で心理学的根拠が薄い**
  これまでの多くの手法は「キャラのプロフィール文」を設計して従わせる発想が中心で，**会話を駆動する心理特性（性格）** をほぼ無視してきた，という問題意識があります．&#x20;

* **LLMの“人格一貫性の欠如”**
  GPT-4 などは強力になった一方で，**一貫したパーソナリティが保てず，魅力に欠ける**ことが広く認識されている——ここを埋めたい．

* **心理学（Big Five）を統合した個人化が次の段階**
  著者らは，個人化の発展を「①プロフィール → ②心理学統合 → ③スコアなど連続表現の融合」と捉え，**②（心理学統合）を進める**のが本研究の狙い．


> ひとことで：**“設定文だけのロールプレイ”から，“心理学に基づく性格統合”へ**．公開SNSデータで Big Five を推定し，プロフィール／潜在知識／性格をまとめて条件化，さらに専用ベンチで**一貫性と関連性**を検証する——これが ORCA の出発点．




# 提案
![Figure1](/images/orca_role_playing_blog/figure1.png)
- **心理学の統合で“キャラ作り”を強化**：LLM を用いてユーザの**Big Five**を推定し（**5次元×各6サブ次元**＝35），**連続スコア**と**レポート**を得る．これを用い，**プロフィール/潜在知識/心理活動**まで含めた入出力を設計． 
- **二段の学習法**：  
  - **PTIT（explicit）**：性格レポートを**テキストとして前置**し LoRA で調整．
  - **PSIT（implicit）**：**スコア→説明文**へ写像する **PTSI** を挟み，**連続値**を扱えるように．
- **評価基盤の整備**：**OrcaBench** を構築（重複しない25ユーザ / 3,758投稿，画像1,782枚）．**重なり（BLEU/ROUGE）・関連（CPR/PTR/PKR）・性格一致（PSS）** で評価．



# データと前処理
- **収集**：X（旧Twitter）から**500ユーザ×直近200投稿**を収集（公開ポストに限定）．画像は**VLM でキャプション化**し多モーダル化．
- **性格推定**：投稿を10件ずつ分割し，**ゼロショット**でサブ次元を0/1採点→平均して**35次元の連続スコア**を算出．**要約プロンプト**で**性格レポート**も生成．
- **データ拡張**：  
  1) **プロフィール**（創作だが性格記述は含めない）
  2) 投稿背後の**潜在知識（Potential Knowledge）**  
  3) **心理活動**（ポスト時の内的動機）をLLMで生成・品質判定



# PCIP：性格条件付きプロンプト設計
![Figure2](/images/orca_role_playing_blog/figure2.png)
- 入力を **I=(instruction, profile, personality, knowledge)**，出力を **O=(activities, text, media)** というタプルで整備．**関連が薄い要素は空欄**のまま学習させ，差異も学ばせる．
- 実例（抜粋）は Fig.2 に掲載（プロフィール・Big Five レポート・潜在知識を条件に，**心理活動→本分**を生成）．



# 学習：PTIT / PSIT
- **PTIT（明示）**：性格**レポート文**をそのまま条件に使い，**LoRA**で微調整（数式定義あり）．
- **PSIT（暗黙）**：**スコア列**は LLM 埋め込みとギャップが大きいため，**PTSI** で**説明文**に解釈させてから条件化．スコアを説明文に解釈してから投入．これで personality をスコア説明 peとして与える．



# 評価（OrcaBench）
- **手順**：①PCIP で各モデルに生成させる→②**重なり**（BLEU/ROUGE）・**関連**（CPR/PTR/PKR）・**性格一致**（PSS：コサイン類似）でスコア化．
- **ベースライン**：Llama 3.1（8B/70B）や **DeepSeek** の **PCIP推論**，および **PTIT/PSIT** 学習モデルを比較．**CoT 的**な中間出力も試す．



# 主な結果

## 1) PCIP（推論のみ）のアブレーション
![Figure4](/images/orca_role_playing_blog/figure4.png)
- **プロフィール除去（CPA）で CPR=7.60**まで低下→**プロフィールは一貫性維持に必須**． 
- **性格特性除去（PTA）で PTR=18.09，PSSも −3.06**→**Big Five の明示が効く**．
- **潜在知識除去（PKA）で BLEU=18.46/ROUGE-l=8.07**→**話題誘導の鍵は潜在知識**．
- **心理活動/画像を省く（WPM）**と **PSS +1.42**（PCIP系で）＝一方で**解釈性**は下がるためトレードオフ．

## 2) PTIT/PSIT（学習あり）
![Figure3](/images/orca_role_playing_blog/figure3.png)
- **BLEU/ROUGE と PSS が大幅向上**：例）**PCIP→PTIT**で **BLEU 29.94→55.85, ROUGE-l 18.37→38.76, PSS 91.65→98.11**．**PSIT**も同水準．
- **心理活動付きでも PSS ほぼ不変**（PTIT vs PTIT-WPM：差0.04）→**学習により“心理活動⇔性格”の対応を獲得**．
- **スケーリング**：**PTIT-70B**は 8B より高得点（2エポック学習）．



# 限界と注意点
- **ベンチの限界**：SNS上では**神経症傾向（Neuroticism）** が現れにくく，**スコア差が判別困難**．
- **暗黙モデリングの課題**：**連続スコアの融合**は未踏．PSIT/PTSIは**一案**に過ぎず，より適切な埋め込み/射影が今後の課題.
- **倫理**：**ロールプレイは越権行為やジェイルブレイクを誘発**し得るため，**モデレーション**が必要．また**性格推定はプライバシー懸念**がある．



# 参考（論文情報）

- **タイトル**：*ORCA: ENHANCING ROLE-PLAYING ABILITIES OFLARGE LANGUAGE MODELS BY INTEGRATING PER-SONALITY TRAITS*
- **著者**：Yuxuan Huang
- **年**：2025
- **OpenView.net**： [リンクはこちら](https://openreview.net/forum?id=HPuLU6q7xq)